<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="app-main" attributes="">
  <template>
    <link rel="stylesheet" href="app-main.css">
    <div class="wrapper">
      <header>
        <app-time></app-time>
        <app-dateFilmsFilter id="dateFilmsFilter" filmList="{{filmList}}"></app-dateFilmsFilter>
      </header>
      
      <main>
        <app-pageController active="{{activePage}}">
          <app-page id="filmsList">
            <app-filmsList id="filmsList" films='{{filmsList}}'></app-filmsList>
          </app-page>
          <app-page id="cinemaHall">
            <div class="cinemaHall"></div>
          </app-page>
        </app-pageController>
      </main>
    </div>
  </template>
  <script>
    (function () {

      Polymer({
        activePage: "filmsList",

        ready: function () {
          this.$.dateFilmsFilter.addEventListener('FilmListChanged', function (e) {
            this.filmsList = JSON.stringify(e.detail.filmList);
          }.bind(this));
        }
      });

    })();
  </script>
</polymer-element>
